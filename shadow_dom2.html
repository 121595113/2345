<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>shadow dom案例</title>
    <style>
    button {
        background: none;
    }
    
    #my-widget {
        background: red
    }
    </style>
</head>

<body>
    <template id="wgTemplate">
        <style>
        .btn {
            color: #fff;
            background: #006dcc;
        }
        </style>
        <button type="button" class="btn">custom button widget</button>
    </template>
    <script type='text/javascript'>
    var proto = Object.create(HTMLElement.prototype, {
        createdCallback: {
            value: function() {
                var tp = document.querySelector('#wgTemplate')
                var clone = document.importNode(tp.content, true)
                this.createShadowRoot().appendChild(clone)
            }
        }
    })


    var MyButtom = document.registerElement('my-buttom', {
        prototype: proto
    })

    document.body.appendChild(new MyButtom())
    </script>
</body>

</html>
